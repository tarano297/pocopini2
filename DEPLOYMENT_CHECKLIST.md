# چک‌لیست استقرار پوکوپینی

این چک‌لیست برای اطمینان از انجام تمام مراحل استقرار است.

## قبل از استقرار

- [ ] کد را در محیط development تست کرده‌اید
- [ ] تمام تست‌ها با موفقیت اجرا شده‌اند
- [ ] تغییرات را در Git commit کرده‌اید
- [ ] دامنه و DNS تنظیم شده است
- [ ] سرور با مشخصات مناسب آماده است

## تنظیمات سرور

- [ ] سیستم عامل به‌روزرسانی شده است
- [ ] Python 3.10+ نصب شده است
- [ ] Node.js 18+ نصب شده است
- [ ] PostgreSQL 15+ نصب و راه‌اندازی شده است
- [ ] Redis نصب و راه‌اندازی شده است
- [ ] Nginx نصب شده است
- [ ] Firewall تنظیم شده است (پورت‌های 22, 80, 443)

## تنظیمات دیتابیس

- [ ] دیتابیس PostgreSQL ایجاد شده است
- [ ] کاربر دیتابیس با رمز عبور قوی ایجاد شده است
- [ ] دسترسی‌های لازم به کاربر داده شده است
- [ ] اتصال به دیتابیس تست شده است

## تنظیمات بک‌اند

- [ ] فایل `.env` از `.env.example` کپی شده است
- [ ] `SECRET_KEY` با یک کلید تصادفی و قوی جایگزین شده است
- [ ] `DEBUG=False` تنظیم شده است
- [ ] `ALLOWED_HOSTS` با دامنه‌های صحیح تنظیم شده است
- [ ] اطلاعات اتصال دیتابیس صحیح است
- [ ] `REDIS_URL` تنظیم شده است
- [ ] `CORS_ALLOWED_ORIGINS` با دامنه production تنظیم شده است
- [ ] تنظیمات امنیتی SSL فعال شده‌اند
- [ ] وابستگی‌های Python نصب شده‌اند
- [ ] مایگریشن‌ها اجرا شده‌اند
- [ ] superuser ایجاد شده است
- [ ] `collectstatic` اجرا شده است

## تنظیمات فرانت‌اند

- [ ] وابستگی‌های npm نصب شده‌اند
- [ ] متغیرهای محیطی فرانت‌اند تنظیم شده‌اند
- [ ] Build production اجرا شده است
- [ ] فایل‌های build در مسیر صحیح قرار دارند

## تنظیمات Nginx

- [ ] فایل پیکربندی Nginx کپی شده است
- [ ] دامنه در فایل پیکربندی صحیح است
- [ ] مسیرهای static و media صحیح هستند
- [ ] پیکربندی proxy برای API صحیح است
- [ ] تنظیمات Nginx تست شده است (`nginx -t`)
- [ ] Nginx راه‌اندازی مجدد شده است

## تنظیمات SSL/HTTPS

- [ ] گواهی SSL با Let's Encrypt دریافت شده است
- [ ] HTTPS فعال است
- [ ] Redirect از HTTP به HTTPS کار می‌کند
- [ ] تنظیمات HSTS فعال شده‌اند
- [ ] گواهی SSL معتبر است و تاریخ انقضا بررسی شده است

## تنظیمات Gunicorn

- [ ] فایل systemd service ایجاد شده است
- [ ] مسیرها در service file صحیح هستند
- [ ] تعداد workers مناسب تنظیم شده است
- [ ] سرویس فعال و در حال اجرا است
- [ ] سرویس برای راه‌اندازی خودکار تنظیم شده است

## تست‌های نهایی

- [ ] سایت از طریق HTTPS قابل دسترسی است
- [ ] صفحه اصلی به درستی بارگذاری می‌شود
- [ ] API endpoints کار می‌کنند
- [ ] ورود و ثبت‌نام کار می‌کند
- [ ] آپلود تصاویر کار می‌کند
- [ ] فایل‌های استاتیک به درستی سرو می‌شوند
- [ ] پنل ادمین قابل دسترسی است
- [ ] فیلترها و جستجو کار می‌کنند
- [ ] سبد خرید و سفارش‌گذاری کار می‌کند
- [ ] نظرات و امتیازدهی کار می‌کند

## امنیت

- [ ] تمام رمزهای عبور قوی هستند
- [ ] کلیدهای محرمانه در فایل‌های عمومی نیستند
- [ ] دسترسی SSH با کلید عمومی تنظیم شده است
- [ ] رمز عبور root غیرفعال شده است
- [ ] Fail2ban نصب و تنظیم شده است (اختیاری)
- [ ] بک‌آپ خودکار تنظیم شده است

## مانیتورینگ و لاگ‌ها

- [ ] لاگ‌های Gunicorn بررسی شده‌اند
- [ ] لاگ‌های Nginx بررسی شده‌اند
- [ ] لاگ‌های PostgreSQL بررسی شده‌اند
- [ ] سیستم مانیتورینگ تنظیم شده است (اختیاری)
- [ ] هشدارها برای خطاها تنظیم شده‌اند (اختیاری)

## بک‌آپ

- [ ] اسکریپت بک‌آپ تست شده است
- [ ] بک‌آپ خودکار با cron تنظیم شده است
- [ ] بازیابی از بک‌آپ تست شده است
- [ ] بک‌آپ‌ها در مکان امن ذخیره می‌شوند

## مستندات

- [ ] مستندات استقرار به‌روز است
- [ ] اطلاعات دسترسی‌ها ثبت شده‌اند (در مکان امن)
- [ ] راهنمای عیب‌یابی آماده است
- [ ] اطلاعات تماس پشتیبانی ثبت شده است

## بعد از استقرار

- [ ] تیم از استقرار مطلع شده است
- [ ] کاربران از تغییرات مطلع شده‌اند
- [ ] مانیتورینگ برای 24 ساعت اول فعال است
- [ ] برنامه نگهداری و به‌روزرسانی تنظیم شده است

---

**تاریخ استقرار:** _______________

**استقرار توسط:** _______________

**یادداشت‌ها:**
